# üß≠ Chapter 5: Display Components and Graphs

### üéØ Objective

In this chapter, you will learn how to display visual data in Dash using the `dcc.Graph` component and integrate Plotly charts. You‚Äôll explore different chart types and create an interactive dashboard that allows users to select the chart type dynamically.

---

### üìò 5.1 Plotly Graph Integration (`dcc.Graph`)

Dash is built on **Plotly**, which means you can use all Plotly chart types inside Dash using the component:

```python
import dash_core_components as dcc
```

In Dash 2.0+, it‚Äôs imported as:

```python
from dash import dcc
```

The `dcc.Graph` component is used to render Plotly figures:

```python
dcc.Graph(
    id='example-graph',
    figure={
        'data': [
            {'x': [1, 2, 3], 'y': [4, 1, 2], 'type': 'bar', 'name': 'Example'}
        ],
        'layout': {'title': 'Simple Bar Chart'}
    }
)
```

---

### üìä 5.2 Types of Charts

Dash (through Plotly) supports many chart types.
Here are some common ones you‚Äôll frequently use:

| Chart Type   | Plotly Function                 | Description                                                |
| ------------ | ------------------------------- | ---------------------------------------------------------- |
| Line Chart   | `px.line()`                     | Used to show trends over time or continuous data           |
| Bar Chart    | `px.bar()`                      | Used to compare quantities among categories                |
| Pie Chart    | `px.pie()`                      | Used to show proportions or percentages                    |
| Scatter Plot | `px.scatter()`                  | Used to show correlation or relationship between variables |
| Box Plot     | `px.box()`                      | Used to show data distribution and outliers                |
| Heatmap      | `px.imshow()` or `go.Heatmap()` | Used to visualize matrix-style or correlation data         |

---

### ‚öôÔ∏è 5.3 Example: Display Sales Data with a Dropdown to Select Chart Type

#### üß© Full Example Code

```python
from dash import Dash, dcc, html, Input, Output
import plotly.express as px
import pandas as pd

# Sample sales dataset
data = {
    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
    'Sales': [150, 200, 250, 180, 300, 280],
    'Profit': [50, 80, 90, 60, 120, 100],
    'Region': ['North', 'South', 'East', 'West', 'North', 'South']
}
df = pd.DataFrame(data)

# Initialize Dash app
app = Dash(__name__)

app.layout = html.Div([
    html.H1("üìà Sales Data Dashboard", style={'textAlign': 'center'}),
    
    html.Label("Select Chart Type:"),
    dcc.Dropdown(
        id='chart-type',
        options=[
            {'label': 'Line Chart', 'value': 'line'},
            {'label': 'Bar Chart', 'value': 'bar'},
            {'label': 'Pie Chart', 'value': 'pie'},
            {'label': 'Scatter Plot', 'value': 'scatter'},
            {'label': 'Box Plot', 'value': 'box'},
            {'label': 'Heatmap', 'value': 'heatmap'}
        ],
        value='line',
        clearable=False
    ),

    html.Br(),
    dcc.Graph(id='sales-graph')
])

# Define callback for interactivity
@app.callback(
    Output('sales-graph', 'figure'),
    Input('chart-type', 'value')
)
def update_chart(chart_type):
    if chart_type == 'line':
        fig = px.line(df, x='Month', y='Sales', title='Monthly Sales - Line Chart')
    elif chart_type == 'bar':
        fig = px.bar(df, x='Month', y='Sales', title='Monthly Sales - Bar Chart')
    elif chart_type == 'pie':
        fig = px.pie(df, names='Month', values='Sales', title='Sales Distribution - Pie Chart')
    elif chart_type == 'scatter':
        fig = px.scatter(df, x='Sales', y='Profit', color='Region', size='Profit',
                         title='Sales vs Profit - Scatter Plot')
    elif chart_type == 'box':
        fig = px.box(df, x='Region', y='Sales', title='Sales Distribution by Region - Box Plot')
    elif chart_type == 'heatmap':
        matrix = df[['Sales', 'Profit']].corr()
        fig = px.imshow(matrix, text_auto=True, title='Correlation Heatmap')
    else:
        fig = {}
    return fig

if __name__ == '__main__':
    app.run_server(debug=True)
```

---

### üß† 5.4 Explanation

1. **Dropdown (`dcc.Dropdown`)**
   Allows users to select the chart type dynamically.

2. **Callback**
   Uses the selected chart type as input and updates the figure output in the graph.

3. **Graph (`dcc.Graph`)**
   Displays the figure generated by Plotly Express based on the user‚Äôs choice.

4. **Interactivity**
   Each chart type uses different data mappings but the same dataset for consistency.

---

### üß© 5.5 Expected Output

* A **dashboard title** at the top
* A **dropdown menu** to select chart type
* A **Plotly chart** below that updates instantly when a new chart type is selected

---

### üß≠ 5.6 Key Takeaways

‚úÖ Use `dcc.Graph` for visualizing interactive Plotly charts
‚úÖ Combine Dash callbacks with user inputs for dynamic updates
‚úÖ Choose chart types depending on the relationship you want to highlight

---
