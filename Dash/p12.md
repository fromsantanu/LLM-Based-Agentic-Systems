# **Chapter 12: Forms and User Submissions**

### **Objective**

In this chapter, you’ll learn how to:

* Create user input forms in Dash.
* Validate and handle submitted data.
* Display user responses dynamically on the app.

---

## **12.1 Designing User Input Forms**

Dash provides multiple input components (like `dcc.Input`, `dcc.Textarea`, `dcc.RadioItems`, etc.) to create interactive forms.
A form in Dash typically includes:

* Input fields (for user data entry)
* A Submit button
* An output area (to display results or confirmations)

---

### **Example Form Layout**

```python
import dash
from dash import html, dcc, Output, Input, State

app = dash.Dash(__name__)

app.layout = html.Div(
    style={'width': '60%', 'margin': 'auto', 'padding': '30px'},
    children=[
        html.H2("User Feedback Form", style={'textAlign': 'center'}),

        html.Label("Name:"),
        dcc.Input(id='name-input', type='text', placeholder='Enter your name', style={'width': '100%'}),

        html.Br(), html.Br(),

        html.Label("Email:"),
        dcc.Input(id='email-input', type='email', placeholder='Enter your email', style={'width': '100%'}),

        html.Br(), html.Br(),

        html.Label("How satisfied are you with our service?"),
        dcc.RadioItems(
            id='rating-input',
            options=[
                {'label': 'Very Satisfied', 'value': 'Very Satisfied'},
                {'label': 'Satisfied', 'value': 'Satisfied'},
                {'label': 'Neutral', 'value': 'Neutral'},
                {'label': 'Dissatisfied', 'value': 'Dissatisfied'}
            ],
            value='Satisfied',
            inline=True
        ),

        html.Br(),

        html.Label("Comments:"),
        dcc.Textarea(
            id='comments-input',
            placeholder='Share your experience...',
            style={'width': '100%', 'height': 120}
        ),

        html.Br(),
        html.Button('Submit Feedback', id='submit-btn', n_clicks=0, style={'marginTop': '10px'}),

        html.Br(), html.Br(),
        html.Div(id='output-div', style={'whiteSpace': 'pre-line', 'fontSize': '16px', 'color': '#333'})
    ]
)

if __name__ == '__main__':
    app.run_server(debug=True)
```

---

## **12.2 Handling and Validating Form Data**

Dash callbacks handle the logic of form submissions.
You can use **State** to read input values when a button is clicked.

### **Callback Example**

```python
@app.callback(
    Output('output-div', 'children'),
    Input('submit-btn', 'n_clicks'),
    State('name-input', 'value'),
    State('email-input', 'value'),
    State('rating-input', 'value'),
    State('comments-input', 'value'),
)
def update_output(n_clicks, name, email, rating, comments):
    if n_clicks == 0:
        return ""

    # Simple validation
    if not name or not email:
        return "⚠️ Please enter both your name and email."

    # Format the feedback response
    feedback = f"""
    ✅ Thank you for your feedback, {name}!
    Email: {email}
    Rating: {rating}
    Comments: {comments if comments else 'No additional comments.'}
    """
    return feedback
```

---

## **12.3 Example: Feedback Submission Form**

When the user fills the form and presses the **Submit Feedback** button:

* The input values are captured using **State**.
* The callback validates the required fields (`name`, `email`).
* The feedback is displayed below the form.

---

### **Result Screenshot (Conceptual)**

```
User Feedback Form
------------------
Name: Desmond Williamson
Email: desmond@example.com
Rating: Very Satisfied
Comments: Excellent design and interaction!

✅ Thank you for your feedback, Desmond Williamson!
Email: desmond@example.com
Rating: Very Satisfied
Comments: Excellent design and interaction!
```

---

## **12.4 Key Points**

| Concept              | Description                                                          |
| -------------------- | -------------------------------------------------------------------- |
| **Input Components** | Used for capturing user input (text, dropdowns, radio buttons, etc.) |
| **State**            | Allows reading values only when triggered (e.g., on button click)    |
| **Validation**       | Ensure users enter valid or complete information                     |
| **Output Display**   | Use `html.Div` or similar elements to show feedback or results       |

---

## **12.5 Practice Exercise**

**Task:**
Create a **Contact Us Form** that collects:

* Name
* Email
* Subject (dropdown)
* Message (textarea)

When submitted, display:

```
Thank you <Name> for contacting us about "<Subject>".
We will respond shortly at <Email>.
```

---
