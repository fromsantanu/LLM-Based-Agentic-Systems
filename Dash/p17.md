# 🧭 **Chapter 17: Deploying Dash Apps**

### 🎯 **Learning Objectives**

By the end of this chapter, you will:

* Understand how to run Dash apps locally and deploy them to the cloud.
* Know how to prepare your project for production deployment.
* Deploy a sample dashboard to **Render** using a **GitHub repository**.

---

## 17.1 🏠 Running Dash Locally

When developing, Dash apps typically run on your local machine using:

```bash
python app.py
```

Example basic app (`app.py`):

```python
from dash import Dash, html

app = Dash(__name__)

app.layout = html.Div([
    html.H1("Hello, Dash!"),
    html.P("This is running locally on your computer.")
])

if __name__ == "__main__":
    app.run_server(debug=True)
```

### 🔹 Notes:

* Use `debug=True` during development to enable **auto-reload**.
* The app runs at [http://127.0.0.1:8050](http://127.0.0.1:8050) by default.
* Once the app is ready, set `debug=False` for production.

---

## 17.2 ☁️ Deploying Dash Apps to the Cloud

Several platforms allow easy deployment of Dash apps:

| Platform                          | Ease | Free Tier    | Ideal For                    |
| --------------------------------- | ---- | ------------ | ---------------------------- |
| **Render**                        | ⭐⭐⭐⭐ | ✅ Yes        | Quick deployments via GitHub |
| **Heroku**                        | ⭐⭐⭐  | ❌ (Paid now) | Legacy and hobby projects    |
| **AWS (EC2 / Elastic Beanstalk)** | ⭐⭐   | ❌            | Full control, scalable apps  |
| **Railway / Deta / Azure**        | ⭐⭐⭐  | ✅            | Alternatives to Render       |

---

## 17.3 📁 Structuring Files for Production

Your project structure should be clean and reproducible.

```
dash_demo_app/
│
├── app.py                # Main Dash app file
├── requirements.txt      # Python dependencies
├── Procfile              # (Required for Heroku)
├── runtime.txt           # (Optional, specify Python version)
├── assets/               # Custom CSS, JS, images
│   ├── style.css
│
└── data/                 # Optional: data files
    └── sample_data.csv
```

### **Example `requirements.txt`:**

```
dash
pandas
plotly
gunicorn
```

### **Example `Procfile`:**

```
web: gunicorn app:app
```

### **Example `runtime.txt`:**

```
python-3.11.5
```

> 💡 For **Render**, you don’t need a Procfile. Just ensure `requirements.txt` and `app.py` exist at the project root.

---

## 17.4 🚀 Example: Deploying to Render

Render is one of the simplest platforms to deploy Dash apps using your **GitHub repo**.

### 🔧 Step 1: Prepare Your Repository

1. Create a GitHub repo (e.g., `dash-demo-dashboard`).
2. Add all your project files:

   ```
   app.py
   requirements.txt
   assets/style.css
   ```
3. Commit and push your code.

Example minimal `app.py` for deployment:

```python
from dash import Dash, html, dcc
import plotly.express as px
import pandas as pd

# Sample dataset
df = px.data.gapminder().query("year == 2007")

app = Dash(__name__)
server = app.server  # Expose for deployment

fig = px.scatter(df, x="gdpPercap", y="lifeExp", color="continent",
                 size="pop", size_max=60, hover_name="country",
                 log_x=True, title="Life Expectancy vs GDP (2007)")

app.layout = html.Div([
    html.H2("Global Health Dashboard"),
    dcc.Graph(figure=fig)
])

if __name__ == "__main__":
    app.run_server(debug=False, host="0.0.0.0", port=8050)
```

---

### 🪄 Step 2: Create a Render Account

* Visit [https://render.com](https://render.com)
* Log in using **GitHub**.
* Click **“New +” → “Web Service”**.

---

### ⚙️ Step 3: Connect GitHub Repository

* Choose your repo (e.g., `dash-demo-dashboard`).
* Set the **Build Command**:

  ```
  pip install -r requirements.txt
  ```
* Set the **Start Command**:

  ```
  gunicorn app:server
  ```
* Choose environment: `Python 3`
* Choose free tier for testing.

---

### 🔄 Step 4: Build and Deploy

Render automatically:

1. Installs dependencies.
2. Runs your start command.
3. Assigns a public URL (like `https://dash-demo.onrender.com`).

---

### ✅ Step 5: Visit Your Dashboard

Once deployed, you can visit your app’s URL — for example:

🔗 **[https://dash-demo.onrender.com](https://dash-demo.onrender.com)**

Your dashboard is now live for anyone to access!

---

## 17.5 🧩 Deployment Tips

* Always pin versions in `requirements.txt`:

  ```
  dash==2.18.0
  plotly==5.23.0
  pandas==2.2.2
  gunicorn==21.2.0
  ```
* Set `debug=False` for production.
* Test locally before pushing updates.
* Store credentials (if any) securely using environment variables.
* For large datasets, host the data separately (S3, database, etc.).

---

## 17.6 🌍 Alternative: Deploy to Heroku

If you still wish to use Heroku:

```bash
heroku login
heroku create my-dash-app
git push heroku main
heroku open
```

Heroku detects Python automatically if `requirements.txt` and `Procfile` exist.

---

## 17.7 🧱 Alternative: Deploy to AWS EC2

For advanced control:

1. Launch an EC2 instance (Ubuntu).
2. Install Python and dependencies:

   ```bash
   sudo apt update && sudo apt install python3-pip
   pip install dash gunicorn
   ```
3. Run with:

   ```bash
   gunicorn app:server -b 0.0.0.0:8050
   ```
4. Configure **Security Group** to allow port `8050`.

---

## 🧾 **Summary**

| Task             | Tool            | Key Command                           |
| ---------------- | --------------- | ------------------------------------- |
| Run locally      | Python          | `python app.py`                       |
| Deploy to Render | GitHub + Render | `gunicorn app:server`                 |
| Deploy to Heroku | Heroku CLI      | `git push heroku main`                |
| Deploy to AWS    | EC2 + Gunicorn  | `gunicorn app:server -b 0.0.0.0:8050` |

---

## 🧪 **Exercise**

1. Deploy the “Hospital Appointment Dashboard” (from Chapter 14) to Render.
2. Add a simple **header** and **footer** with your name and project link.
3. Share the public Render URL in your GitHub README.

---
