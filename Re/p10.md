# Chapter 10: Flags and Options

Regular expressions in Python come with **flags** (also known as options or modifiers) that change the way patterns are interpreted.
Flags are passed either as an argument to functions like `re.search()`, `re.findall()`, `re.compile()`, or embedded directly into the regex pattern using `(?i)`, `(?m)`, `(?s)` syntax.

---

## 1. Case-Insensitive Matching (`re.I` or `re.IGNORECASE`)

By default, regex is **case-sensitive**. Using `re.I` makes it ignore case differences.

```python
import re

text = "Python is FUN. PYTHON is powerful."

# Without re.I
print(re.findall(r"python", text))  
# Output: []

# With re.I
print(re.findall(r"python", text, re.I))  
# Output: ['Python', 'PYTHON']
```

✅ Notice how both `Python` and `PYTHON` are matched, even though the case is different.

---

## 2. Multiline Mode (`re.M` or `re.MULTILINE`)

Normally, `^` matches the **start of the whole string** and `$` matches the **end of the whole string**.
With `re.M`, they also match at the start and end of **each line**.

```python
text = """First line
Second line
Third line"""

# Without re.M
print(re.findall(r"^Second", text))  
# Output: []

# With re.M
print(re.findall(r"^Second", text, re.M))  
# Output: ['Second']
```

✅ Here, `^Second` matched the start of the **second line** when `re.M` was used.

---

## 3. Dotall Mode (`re.S` or `re.DOTALL`)

By default, `.` matches **any character except a newline** (`\n`).
With `re.S`, the `.` also matches newlines.

```python
text = "Hello\nWorld"

# Without re.S
print(re.findall(r"Hello.World", text))  
# Output: []

# With re.S
print(re.findall(r"Hello.World", text, re.S))  
# Output: ['Hello\nWorld']
```

✅ Now the dot `.` spans across lines because `re.S` allows it to match `\n`.

---

## 4. Combining Flags

Multiple flags can be combined using the bitwise OR operator (`|`).

```python
text = """Python
is
FUN"""

# Case-insensitive + Multiline
pattern = re.compile(r"^fun$", re.I | re.M)
print(pattern.findall(text))  
# Output: ['FUN']
```

✅ Both `re.I` and `re.M` are active here:

* `re.I` ignores case → `FUN` matches `fun`
* `re.M` allows `^fun$` to match at line boundaries

---

## 5. Inline Flags (Embedded in Pattern)

Flags can also be embedded directly inside the regex using `(?i)`, `(?m)`, `(?s)`:

```python
text = "Python\nis\nFUN"

print(re.findall(r"(?i)fun", text))      # ['FUN'] (case-insensitive)
print(re.findall(r"(?m)^is$", text))     # ['is']  (multiline)
print(re.findall(r"(?s)Python.is.FUN", text))  # ['Python\nis\nFUN'] (dotall)
```

✅ Inline flags affect only the regex they are written in, making them useful for local control.

---

# Summary

* `re.I` → Case-insensitive matching
* `re.M` → Multiline mode (`^` and `$` work per line)
* `re.S` → Dotall mode (`.` matches newlines)
* Flags can be **combined** (`re.I | re.M`) or written **inline** (`(?i)`).

---
