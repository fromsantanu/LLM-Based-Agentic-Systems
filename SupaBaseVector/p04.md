# ğŸ“˜ Chapter 4: Supabase + pgvector Basics

In this chapter, we connect everything you learned so far and **see how vectors actually live inside the database**.

No fearâ€”this is still **simple and practical**.

---

## 1. What Is pgvector? (Very Simple)

**pgvector** is a small **add-on** for **PostgreSQL**.

ğŸ‘‰ Without pgvector:

* PostgreSQL can store text, numbers, dates
* âŒ Cannot store embeddings

ğŸ‘‰ With pgvector:

* PostgreSQL can store **vectors (number lists)**
* Can **compare meanings**
* Can do **similarity search**

Supabase enables pgvector for you.

---

## 2. How Supabase Uses pgvector

**Supabase**:

* Uses PostgreSQL internally
* Activates pgvector as an extension
* Lets you use vectors just like normal columns

So for you:

* No complex setup
* No new database to learn

---

## 3. Vector Column (Key Concept)

Normally, a table has columns like:

* text
* number
* date

With pgvector, you get a **new type**:

ğŸ‘‰ `vector`

Example idea (not SQL yet):

* `content` â†’ text
* `embedding` â†’ vector

Think of `embedding` as:

> A box that stores **many numbers together**

---

## 4. What Does a Vector Look Like Inside the DB?

Example:

```
[0.21, 0.77, 0.44, 0.68, ...]
```

Important points:

* Order matters
* Count matters
* Size must always be the same

ğŸ“Œ If your model gives 384 numbers,
the column must expect **exactly 384**.

---

## 5. Vector Dimension (Revisited)

Let us simplify again.

* Dimension = number of values in the vector
* Example:

  * 384 â†’ small
  * 768 â†’ medium
  * 1536 â†’ large

Simple rule:

* All rows in a column must use **same dimension**
* You cannot mix sizes

---

## 6. How pgvector Compares Vectors

pgvector does **distance calculation**.

Distance means:

> â€œHow far apart are two meanings?â€

Closer = more similar
Farther = less similar

---

## 7. Distance Types (Do Not Panic)

You will see these names often, so letâ€™s demystify them.

### 1ï¸âƒ£ Cosine Similarity (Most Common)

Idea:

* Looks at **direction**, not size
* Very good for text meaning

Real-life example:

* Two people pointing in same direction
* Even if one is tall, one is short â†’ still same direction

ğŸ“Œ Most recommended for text search

---

### 2ï¸âƒ£ Euclidean Distance

Idea:

* Straight-line distance
* Like measuring with a ruler

Works fine, but:

* Sensitive to scale
* Less popular for text

---

### 3ï¸âƒ£ Inner Product

Idea:

* Measures alignment + strength
* Used in some advanced setups

ğŸ“Œ Beginners usually donâ€™t need this first.

---

## 8. Which Distance Should You Use?

Simple answer:

âœ… **Cosine similarity** â†’ for text embeddings
âœ… Default choice â†’ safest choice

We will use cosine similarity in this tutorial.

---

## 9. What pgvector Does NOT Do

Very important to understand:

âŒ pgvector does NOT create embeddings
âŒ pgvector does NOT understand language
âŒ pgvector only compares numbers

AI model:

* Creates embeddings

pgvector:

* Stores and compares them

---

## 1ï¸âƒ£0ï¸âƒ£ Mental Picture to Remember

ğŸ§  AI model â†’ ğŸ”¢ embeddings
ğŸ“¦ Supabase â†’ ğŸ—„ PostgreSQL
â• pgvector â†’ ğŸ“ similarity search

---

## âœ… Chapter 4 Summary

* pgvector is a PostgreSQL extension
* It adds vector storage and comparison
* Supabase uses pgvector internally
* Vector columns store embeddings
* Distance = meaning difference
* Cosine similarity is most common

---

