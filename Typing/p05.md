# Chapter 5: Callable Types

In Python, functions themselves are **first-class objects** — they can be assigned to variables, passed as arguments, and returned from other functions.
When adding type hints, the `typing` module provides **`Callable`** to annotate such functions.

---

## 5.1 What is `Callable`?

* `Callable` is used to specify that a variable (or parameter) is expected to be a function.
* You can also define the **argument types** and the **return type** of that function.

**Syntax**:

```python
Callable[[ArgType1, ArgType2, ...], ReturnType]
```

* The first part inside `[]` is a list of argument types.
* The second part (after `,`) is the return type.

---

## 5.2 Basic Example: Callable without Arguments

```python
from typing import Callable

def greet() -> str:
    return "Hello!"

# A variable that holds a function returning a string
func: Callable[[], str]

func = greet
print(func())   # Output: Hello!
```

Explanation:

* `Callable[[], str]` means: *a function that takes no arguments and returns a string.*

---

## 5.3 Callable with Arguments

```python
from typing import Callable

# Function that takes (int, str) and returns bool
def check_length(num: int, text: str) -> bool:
    return len(text) == num

# Type annotation
checker: Callable[[int, str], bool]

checker = check_length
print(checker(5, "Hello"))  # True
print(checker(3, "World"))  # False
```

Here:

* `Callable[[int, str], bool]` means: *a function that accepts an int and a str, and returns a bool.*

---

## 5.4 Passing Callables as Arguments

Functions can accept other functions as parameters:

```python
from typing import Callable

def apply_twice(func: Callable[[int], int], value: int) -> int:
    return func(func(value))

def add_one(x: int) -> int:
    return x + 1

print(apply_twice(add_one, 5))  # (5 + 1) + 1 = 7
```

---

## 5.5 Returning a Callable

Functions can also **return another function**:

```python
from typing import Callable

def multiplier(factor: int) -> Callable[[int], int]:
    def multiply(x: int) -> int:
        return x * factor
    return multiply

times3 = multiplier(3)
print(times3(10))   # Output: 30
```

Here:

* `multiplier` returns a function that takes an `int` and returns an `int`.

---

## 5.6 Callable with `Any`

If you don’t know the function’s signature, you can use `Callable[..., Any]`:

```python
from typing import Callable, Any

def run_anything(func: Callable[..., Any]) -> None:
    result = func()
    print("Result:", result)

def say_hi() -> str:
    return "Hi!"

run_anything(say_hi)  # Result: Hi!
```

---

✅ **Key Takeaways**

1. Use `Callable` to type-hint functions.
2. `Callable[[ArgTypes], ReturnType]` defines exact signatures.
3. Use `Callable[..., Any]` when you don’t know or care about the arguments.
4. Great for higher-order functions (functions taking/returning functions).

---

