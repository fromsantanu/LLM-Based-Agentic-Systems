# Chapter 18: Documentation & Schema

FastAPI provides **automatic API documentation** thanks to its integration with **OpenAPI**.
Out of the box, you get **interactive docs** powered by **Swagger UI** and **Redoc**â€”making it easy to explore, test, and share your API.

---

## 18.1 OpenAPI & Automatic Docs

* **OpenAPI Specification (OAS)** is a standard for describing REST APIs.
* FastAPI automatically generates an OpenAPI schema for your app.
* The schema describes:

  * Endpoints (`/users`, `/items/{id}`â€¦)
  * Methods (`GET`, `POST`, etc.)
  * Request parameters & bodies
  * Response models
  * Authentication methods

ðŸ‘‰ By default, FastAPI exposes your API docs at:

* Swagger UI: `http://127.0.0.1:8000/docs`
* ReDoc: `http://127.0.0.1:8000/redoc`
* Raw OpenAPI schema (JSON): `http://127.0.0.1:8000/openapi.json`

---

## 18.2 Swagger UI

Swagger UI gives you:

* Interactive documentation.
* Try-out functionality (make API calls directly from docs).
* Visual parameter & response display.

Example view:

* Endpoint `/items/{item_id}` â†’ displays query/path params, expected request body, and possible responses.

---

## 18.3 Redoc UI

ReDoc provides:

* Clean, **read-only** style documentation.
* Side-panel navigation.
* Good for external API consumers and documentation sharing.

---

## 18.4 Customizing Docs & Metadata

You can configure your appâ€™s docs with metadata:

```python
from fastapi import FastAPI

app = FastAPI(
    title="Bookstore API",
    description="This API lets you manage books, authors, and reviews.",
    version="1.0.0",
    terms_of_service="http://example.com/terms/",
    contact={
        "name": "Support Team",
        "url": "http://example.com/contact/",
        "email": "support@example.com",
    },
    license_info={
        "name": "MIT License",
        "url": "https://opensource.org/licenses/MIT",
    },
    docs_url="/swagger",      # Swagger UI at /swagger
    redoc_url="/documentation" # Redoc at /documentation
)
```

Now:

* Swagger docs â†’ `http://127.0.0.1:8000/swagger`
* Redoc docs â†’ `http://127.0.0.1:8000/documentation`

---

## 18.5 Adding Tags for Endpoints

You can group related endpoints with **tags**.

```python
from fastapi import APIRouter

router = APIRouter()

@router.get("/books", tags=["Books"])
def list_books():
    return [{"title": "1984", "author": "George Orwell"}]

@router.post("/books", tags=["Books"])
def add_book(book: dict):
    return {"message": "Book added", "book": book}

@router.get("/authors", tags=["Authors"])
def list_authors():
    return [{"name": "George Orwell"}]
```

Docs will now show **Books** and **Authors** sections separately.

---

## 18.6 Example: Customized API Docs

```python
from fastapi import FastAPI

app = FastAPI(
    title="Library API",
    description="A simple API to manage books and authors in a library system.",
    version="2.0.0",
    contact={
        "name": "Library API Support",
        "email": "support@libraryapi.com",
    },
    license_info={"name": "Apache 2.0", "url": "https://www.apache.org/licenses/LICENSE-2.0.html"},
)

@app.get("/books", tags=["Books"])
def get_books():
    """Retrieve all books in the library"""
    return [{"id": 1, "title": "The Great Gatsby"}]

@app.post("/books", tags=["Books"])
def create_book(book: dict):
    """Add a new book"""
    return {"message": "Book created", "book": book}

@app.get("/authors", tags=["Authors"])
def get_authors():
    """Retrieve all authors"""
    return [{"id": 1, "name": "F. Scott Fitzgerald"}]
```

When you open `/docs` or `/redoc`, youâ€™ll see:

* Title: *Library API*
* Grouped endpoints under **Books** and **Authors**
* Metadata in the top bar

---

## âœ… Key Takeaways

* FastAPI auto-generates **OpenAPI schemas** for you.
* Use **Swagger UI** for interactive docs, **ReDoc** for clean, static docs.
* Customize metadata with `title`, `description`, `version`, `contact`, and `license_info`.
* Use **tags** to organize endpoints.

---

