# ðŸ§© 4. **n8n Special Variables and Helpers**

When writing custom logic inside **Function** or **Code** nodes, n8n provides a set of **predefined variables** â€” you can use these directly without declaring or importing anything.
They help you **access data, environment info, and other nodesâ€™ outputs** easily.

---

## ðŸ§  **Key Built-in Variables**

| Variable                      | Purpose                                                                     | Example Usage                              |
| ----------------------------- | --------------------------------------------------------------------------- | ------------------------------------------ |
| **`$json`**                   | The JSON data of the **current item** being processed.                      | `const name = $json.name;`                 |
| **`$node["Node Name"].json`** | Access output JSON data from **another node** by its name.                  | `const age = $node["Form Data"].json.age;` |
| **`$items()`**                | Get **all input items** (useful when processing lists or multiple records). | `const all = $items();`                    |
| **`$env("VAR_NAME")`**        | Fetch **environment variables** (from n8n settings or .env file).           | `const apiKey = $env("API_KEY");`          |
| **`$now`**                    | Returns the **current timestamp** (JavaScript `Date` object).               | `const today = $now;`                      |
| **`$execution`**              | Contains workflow-level metadata (execution id, mode, etc.). Rarely used.   | `const id = $execution.id;`                |

---

## ðŸ§© **Example 1 â€“ Reading and Combining Data**

```javascript
// Get data from current node and another node
const patient = $json;
const doctorNote = $node["Doctor Form"].json.note;

// Add a new property
patient.summary = `Doctor's note: ${doctorNote}`;

return [{ json: patient }];
```

---

## ðŸ§© **Example 2 â€“ Accessing Multiple Input Items**

```javascript
// Combine all incoming items into a single array
const allItems = $items();
const combined = allItems.map(item => item.json);

return [{ json: { merged: combined } }];
```

---

## ðŸ§© **Example 3 â€“ Using Environment Variables**

```javascript
// Use a stored API key securely
const apiKey = $env("OPENAI_API_KEY");

return [{
  json: {
    status: "ready",
    apiKeyUsed: apiKey ? "found" : "missing"
  }
}];
```

---

## ðŸ§© **Example 4 â€“ Using the Current Timestamp**

```javascript
// Attach timestamp to processed data
const record = {
  ...$json,
  processedAt: $now.toISOString()
};

return [{ json: record }];
```

---

## ðŸ’¡ **Tip**

You can **mix these helpers** freely â€” for example, pull data from one node, timestamp it, and push the result as a new item.
This is what makes n8nâ€™s Function node so powerful and flexible for data automation.

---


