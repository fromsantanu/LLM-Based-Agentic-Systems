# ğŸ“˜ Chapter 9: Supabase APIs (Auto-Generated APIs)

This chapter explains **one of Supabaseâ€™s biggest strengths**:
ğŸ‘‰ **You get APIs automatically â€” without writing backend code.**

If this chapter is clear, you will understand **why Supabase saves so much time**.

---

## 1ï¸âƒ£ What Are APIs? (Very Simple)

**API = a way to talk to the database**

ğŸ“Œ Real-life example:

* You donâ€™t enter the office record room
* You ask the receptionist:

  > â€œGive me student Rahulâ€™s recordâ€

The receptionist:

* Checks permission
* Fetches the file
* Hands it to you

ğŸ‘‰ In Supabase, **APIs are the receptionist**.

---

## 2ï¸âƒ£ What Supabase Does Automatically

When you create a table in Supabase:

ğŸ‘‰ **Supabase automatically creates APIs for it**

You get APIs for:

* Reading data (SELECT)
* Adding data (INSERT)
* Updating data (UPDATE)
* Deleting data (DELETE)

No backend server needed.

This is handled by **PostgREST**.

---

## 3ï¸âƒ£ How Tables Become APIs (Core Idea)

### Example table:

`students`

| id | name | age |
| -- | ---- | --- |

Supabase automatically creates:

* An endpoint for `students`
* Operations mapped to database actions

ğŸ“Œ Simple mapping:

| Database | API    |
| -------- | ------ |
| SELECT   | GET    |
| INSERT   | POST   |
| UPDATE   | PATCH  |
| DELETE   | DELETE |

ğŸ‘‰ **Your database structure defines your API.**

---

## 4ï¸âƒ£ API Endpoints: Cloud vs Local

### â˜ï¸ Cloud Supabase API

Base URL looks like:

```
https://your-project-id.supabase.co
```

Used when:

* App is live
* Internet is available

---

### ğŸ’» Local Supabase API

Base URL looks like:

```
http://localhost:54321
```

Used when:

* Learning
* Testing
* Offline development

ğŸ“Œ Important:

> **API behavior is the same**
> Only the address changes.

---

## 5ï¸âƒ£ Public Anon Key and APIs

When calling Supabase APIs, you always send:

* Project URL
* **Public anon key**

ğŸ“Œ Remember from Chapter 3:

* Anon key is **safe**
* But it **respects RLS**

ğŸ‘‰ This means:

* API will return data **only if RLS allows it**

---

## 6ï¸âƒ£ RLS + API = Real Security

This is extremely important.

Even if someone:

* Knows your API URL
* Knows your anon key

They still:
âŒ Cannot read data
âŒ Cannot insert data

ğŸ‘‰ **Unless RLS allows it**

ğŸ“Œ Analogy:

* Receptionist checks ID
* Then checks access list
* Then gives files

---

## 7ï¸âƒ£ Using APIs Without Writing Backend Code

Normally, backend work means:

* Writing routes
* Writing controllers
* Writing SQL manually

With Supabase:

* Database = API
* RLS = security
* Auth = identity

ğŸ“Œ This is why Supabase is called:

> **Backend without backend code**

---

## 8ï¸âƒ£ Common API Operations (Conceptual)

You can do things like:

* Get all rows from a table
* Get rows matching a condition
* Insert new rows
* Update your own rows
* Delete your own rows

ğŸ“Œ All these:

* Go through the API
* Are checked by RLS
* Are logged by Supabase

---

## 9ï¸âƒ£ Errors Beginners Commonly See

### âŒ â€œNo rows returnedâ€

â†’ RLS blocked access

### âŒ â€œPermission deniedâ€

â†’ Missing policy

### âŒ â€œ401 Unauthorizedâ€

â†’ User not logged in

ğŸ“Œ 90% of API problems = **RLS or Auth misunderstanding**

---

## ğŸ”Ÿ Service Role Key and APIs (âš ï¸ Warning)

If API is called using:

* **Service role key**

Then:

* RLS is bypassed
* Full access is granted

ğŸ“Œ This is:

* Good for backend jobs
* Dangerous for frontend use

ğŸ‘‰ Rule:

> **Frontend â†’ anon key
> Backend â†’ service role key**

---

## 1ï¸âƒ£1ï¸âƒ£ Why This API Model Is Powerful

* One database
* One source of truth
* One security system
* Same rules everywhere

ğŸ“Œ Whether data is accessed via:

* Web app
* Mobile app
* n8n
* AI workflow

ğŸ‘‰ **Rules never change**

---

## âœ… Key Takeaways (Must Remember)

* Supabase auto-creates APIs from tables
* APIs are powered by PostgREST
* No backend coding required
* RLS controls API access
* Local and cloud APIs behave the same
* Keys decide power level

---

### ğŸ”œ Chapter 10 Preview

Next chapter we will cover:

* Using Supabase with JavaScript
* Connecting frontend to Supabase
* Performing CRUD operations
* Handling errors safely


