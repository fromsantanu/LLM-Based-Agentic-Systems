# **Lesson 21: Dynamic Forms**

*(Fields appear based on the user‚Äôs answers)*

### **What you will learn**

In this lesson, you will learn how to create a form that **changes on the fly** depending on what the user selects.

This is very useful in medical, registration, or survey forms where:

* Some questions only matter if the user said ‚ÄúYes‚Äù
* Some extra fields should appear only when needed
* The form should feel clean and not overloaded

This kind of form feels ‚Äúsmart‚Äù and friendly.

---

## üè• **Real-life example**

Imagine a patient form:

**Question:**
‚ÄúDo you have diabetes?‚Äù

* Yes
* No

If they choose **Yes**, you may need to ask:

* ‚ÄúHow long have you had diabetes?‚Äù
* ‚ÄúAre you on medication?‚Äù

But if they choose **No**, these extra questions should **disappear**.

We will build exactly this.

---

# -----------------------------------

# **PART 1 ‚Äî Main Idea**

A dynamic form works like this:

1. User answers a question
2. Based on the answer, you **show** or **hide** other fields
3. NiceGUI allows this easily using:

   * `.set_visibility(True/False)`
   * or adding/removing components

We will use the **visibility** method in our example.

---

# -----------------------------------

# **PART 2 ‚Äî NiceGUI Code Example**

We will create:

* A radio button: *‚ÄúDo you have diabetes?‚Äù*
* If **Yes** ‚Üí show 2 more questions
* If **No** ‚Üí hide those questions

---

# **Dynamic Form Code Example**

```python
from nicegui import ui

ui.label('Dynamic Medical Form').classes('text-h5')

# Main question
diabetes = ui.radio(
    {'yes': 'Yes', 'no': 'No'},
    label='Do you have diabetes?'
)

# Extra fields for "Yes"
duration = ui.input('How many years?')
medication = ui.input('What medication are you taking?')

# Hide them initially
duration.set_visibility(False)
medication.set_visibility(False)

# Function to show or hide based on answer
def update_visibility():
    if diabetes.value == 'yes':
        duration.set_visibility(True)
        medication.set_visibility(True)
    else:
        duration.set_visibility(False)
        medication.set_visibility(False)

diabetes.on('change', update_visibility)

# Submit button
def submit():
    ui.notify(
        f"Diabetes: {diabetes.value}\n"
        f"Duration: {duration.value}\n"
        f"Medication: {medication.value}"
    )

ui.button('Submit', on_click=submit)

ui.run()
```

---

# -----------------------------------

# **Line-by-line explanation (simple words)**

### **`diabetes = ui.radio(...)`**

Shows two round options: Yes and No.

### **`duration` and `medication`**

Input boxes that we only want visible for ‚ÄúYes‚Äù.

### **`duration.set_visibility(False)`**

Hides the field when the page loads.

### **`diabetes.on('change', update_visibility)`**

When user clicks Yes or No,
NiceGUI calls `update_visibility()`.

### **`update_visibility()`**

If user says **Yes** ‚Üí show extra fields
If **No** ‚Üí hide them again

### **`ui.button('Submit', ...)`**

Collects and displays the final values.

---

# -----------------------------------

# **How to run**

1. Save as **lesson21_dynamic_form.py**
2. Run:

```
python lesson21_dynamic_form.py
```

3. Your browser opens at:

**[http://localhost:8080](http://localhost:8080)**

Try selecting **Yes** and watch the new fields appear.

---

# -----------------------------------

# **Tips & Best Practices**

### ‚≠ê Tip 1: Keep forms short by default

Show only the essential fields first.
Show advanced fields **only if needed**.

### ‚≠ê Tip 2: Use visibility instead of deleting fields

It keeps the form logic simple and avoids accidental errors.

---
