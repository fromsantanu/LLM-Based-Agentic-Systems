# **Lesson 16: Multi-step / Multi-page Forms**

*(Example: Registration ‚Üí Symptoms ‚Üí Diagnosis)*

### **What you will learn**

In this lesson, you will learn how to create a form that works in **steps** instead of showing everything on one big page.

This is similar to how hospitals or online services collect information:

1. First page ‚Üí basic registration
2. Second page ‚Üí symptoms
3. Third page ‚Üí show the suggested diagnosis or next steps

This makes the process easy and less overwhelming for the user.

---

## üè• **Real-life example**

Imagine you go to a clinic:

* At the counter, they first ask for **your name and age**
* Then a nurse asks about **your symptoms**
* Then the doctor gives a **possible diagnosis**

We will create exactly this 3-step flow!

---

# **Step-by-step explanation**

### **Step 1: Create three separate pages**

NiceGUI allows pages using the `@ui.page('/')` decorator.

We will make:

* `/` ‚Üí Registration
* `/symptoms` ‚Üí Symptom form
* `/result` ‚Üí Diagnosis result page

### **Step 2: Store the data temporarily**

We will use a simple Python dictionary to store user inputs while they move across pages.

### **Step 3: On each page, collect data and redirect to the next page**

We use `ui.open()` to move to the next page.

---

# **NiceGUI Code Example**

```python
from nicegui import ui

# Temporary storage (very simple)
user_data = {}

# -------------------------------
# PAGE 1: Registration
# -------------------------------
@ui.page('/')
def registration_page():
    ui.label('Step 1: Registration').classes('text-h5')

    name = ui.input('Enter your name')
    age = ui.input('Enter your age', type='number')

    def go_next():
        user_data['name'] = name.value
        user_data['age'] = age.value
        ui.open('/symptoms')

    ui.button('Next ‚Üí', on_click=go_next)


# -------------------------------
# PAGE 2: Symptoms
# -------------------------------
@ui.page('/symptoms')
def symptom_page():
    ui.label('Step 2: Symptoms').classes('text-h5')

    symptoms = ui.textarea('Describe your symptoms')

    def go_next():
        user_data['symptoms'] = symptoms.value
        ui.open('/result')

    ui.button('Next ‚Üí', on_click=go_next)


# -------------------------------
# PAGE 3: Result / Diagnosis
# -------------------------------
@ui.page('/result')
def result_page():
    ui.label('Step 3: Diagnosis Result').classes('text-h5')

    name = user_data.get('name', '')
    age = user_data.get('age', '')
    symptoms = user_data.get('symptoms', '')

    # Very simple "diagnosis"
    if 'fever' in symptoms.lower():
        diagnosis = 'Possible viral infection'
    else:
        diagnosis = 'More information needed'

    ui.label(f'Name: {name}')
    ui.label(f'Age: {age}')
    ui.label(f'Symptoms: {symptoms}')
    ui.separator()
    ui.label(f'Diagnosis Suggestion: {diagnosis}')

    ui.button('Start Again', on_click=lambda: ui.open('/'))


ui.run()
```

---

# **Line-by-line explanation (simple words)**

### **Registration Page**

* `@ui.page('/')` ‚Üí creates the home page
* `ui.input()` ‚Üí text boxes for name and age
* `go_next()` ‚Üí saves the data and moves to the next page
* `ui.open('/symptoms')` ‚Üí go to Symptoms form

### **Symptoms Page**

* `@ui.page('/symptoms')` ‚Üí second page
* `ui.textarea()` ‚Üí bigger box to type symptoms
* `go_next()` ‚Üí store symptoms and move to results page

### **Result Page**

* Reads values from `user_data` dictionary
* A tiny if-else to guess a diagnosis (very simple)
* Shows all details
* "Start Again" button returns to page 1

### **ui.run()**

Starts the app and opens it in your browser.

---

# **How to run this lesson**

1. Save the file as **lesson16_multistep.py**
2. Run it:

```
python lesson16_multistep.py
```

3. Open the browser at:
   **[http://localhost:8080](http://localhost:8080)**

You will see Page 1 ‚Üí then Page 2 ‚Üí then Page 3.

---

# **Tips & Best Practices**

### ‚≠ê Tip 1: Keep steps short

Users get tired if a single page has too many fields.

### ‚≠ê Tip 2: Show progress

A simple label like **‚ÄúStep 2 of 3‚Äù** helps users feel in control.

---

