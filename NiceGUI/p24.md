# **Lesson 24 â€” Creating a Real-Time Dashboard (Example: Active Patients in a Clinic)**

## â­ What you will learn in this lesson

In this lesson, you will learn how to build a **small real-time dashboard** using NiceGUI.
A â€œreal-time dashboardâ€ simply means:
**the numbers on the screen update automatically without refreshing the page.**

Our simple example will show:

* Number of **patients inside a clinic right now**
* A live counter that updates every **2 seconds**

Later, you can extend this idea for:

* queue management
* number of ongoing chats
* todayâ€™s appointments
* total prescriptions
* anything that changes with time

---

# ğŸ§  Real-life example

Imagine a regular clinic.

People keep coming in and going out:

* When someone arrives â†’ active count increases
* When someone leaves â†’ active count decreases

A real-time dashboard helps the staff instantly see:

> â€œHow many patients are currently inside?â€

No need to refresh the screen manually.

---

# **Step-by-step: Letâ€™s build it**

We will make a NiceGUI page where the number changes automatically.

---

# âœ… Step 1: Install NiceGUI

(If you already installed it, you can skip this)

```
pip install nicegui
```

---

# âœ… Step 2: Create the dashboard code

Below is a clean and simple version:

```python
from nicegui import ui
import random

active_patients = 5  # starting number

def update_count(label):
    global active_patients
    # randomly increase or decrease by 1
    active_patients += random.choice([-1, 1])
    if active_patients < 0:
        active_patients = 0

    label.text = f"Active Patients: {active_patients}"

with ui.page("/"):
    ui.label("Clinic Live Dashboard").classes("text-2xl")

    live_label = ui.label(f"Active Patients: {active_patients}").classes("text-lg")

    # refresh every 2 seconds
    ui.timer(interval=2.0, callback=lambda: update_count(live_label))

ui.run()
```

---

# âœ¨ Explanation in simple words

### **1. Import tools**

```python
from nicegui import ui
import random
```

* `nicegui` â†’ creates the web page
* `random` â†’ we use it to simulate people entering/leaving

---

### **2. Start with some number**

```python
active_patients = 5
```

Just a starting point.
In real life, this number may come from your database.

---

### **3. Function to update the count**

```python
def update_count(label):
    global active_patients
    active_patients += random.choice([-1, 1])
    if active_patients < 0:
        active_patients = 0
    label.text = f"Active Patients: {active_patients}"
```

* It randomly adds or removes one patient
* It updates the text on the screen
* It prevents the number from going below zero

---

### **4. Creating the dashboard page**

```python
with ui.page("/"):
    ui.label("Clinic Live Dashboard").classes("text-2xl")
```

* The main heading on the dashboard

---

### **5. The label that shows the number**

```python
live_label = ui.label(f"Active Patients: {active_patients}").classes("text-lg")
```

* Stores the text we will update repeatedly

---

### **6. Real-time auto-refresh**

```python
ui.timer(interval=2.0, callback=lambda: update_count(live_label))
```

This line makes the dashboard **update every 2 seconds**.
No button, no refresh, completely automatic.

---

### **7. Start the app**

```python
ui.run()
```

Runs the NiceGUI server so you can open the dashboard in your browser.

---

# ğŸš€ How to run and test

1. Save the file as **lesson24.py**
2. Run it:

```
python lesson24.py
```

3. Open your browser and go to:

```
http://localhost:8080
```

You will see a big number that changes every 2 seconds.

This is your **real-time dashboard**!

---

# ğŸ’¡ Tips & Best Practices

### **Tip 1 â€” Replace random values with real data**

Later you can replace the random increase/decrease with:

* database queries
* API calls
* sensor data
* queue length from your app

### **Tip 2 â€” Use colors**

If the number increases too much, you can turn the text red to alert the doctor.

---

