# **Lesson 29 ‚Äî Creating an Admin Dashboard for Your AI Clinic App**

## ‚≠ê What you will learn in this lesson

In this lesson, you will create a **basic admin dashboard** for your AI Clinic app.

The admin dashboard will include:

* **Summary cards** (total patients, active doctors, API usage, pending reports)
* **A patient list table**
* **A doctor list table**
* **A small chart showing visits per day**
* **A simple menu bar**

This is the kind of dashboard an admin (clinic owner or manager) sees to understand what is happening in the system at a glance.

You will learn how to combine:

* Cards
* Tables
* Charts
* Page layout

All inside one NiceGUI app.

---

# üß† Real-life example

Imagine you own a clinic and you log in to your admin app.

At the top, you see:

* **Total Patients: 320**
* **Active Doctors: 5**
* **Visits Today: 18**
* **API Calls Used: 122**

Below that:

* A list of **all patients**
* A list of **all doctors**
* A small chart showing **daily visits for the week**

This gives you a complete picture in just a few seconds.

We will build a simple version of this.

---

# **Step-by-step: Let‚Äôs build the Admin Dashboard**

---

# ‚úÖ Step 1: Install NiceGUI

```bash
pip install nicegui
```

---

# ‚úÖ Step 2: Create new file

Create a file named:

**lesson29_admin_dashboard.py**

---

# ‚úÖ Step 3: Paste the code below

```python
from nicegui import ui
import plotly.graph_objects as go

# --- Dummy data (replace with real database data later) ---
stats = {
    "total_patients": 320,
    "active_doctors": 5,
    "visits_today": 18,
    "api_calls_used": 122,
}

patients = [
    {"id": 1, "name": "Rohan Das", "age": 32, "gender": "M"},
    {"id": 2, "name": "Anita Roy", "age": 45, "gender": "F"},
    {"id": 3, "name": "Sanjay Gupta", "age": 60, "gender": "M"},
]

doctors = [
    {"id": 101, "name": "Dr. Mehta", "specialty": "General Medicine"},
    {"id": 102, "name": "Dr. Sharma", "specialty": "Cardiology"},
    {"id": 103, "name": "Dr. Banerjee", "specialty": "Dermatology"},
]

# Visit chart data (visits per day)
chart_days = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
chart_values = [10, 14, 18, 12, 20, 7, 9]

def make_visit_chart():
    fig = go.Figure(data=go.Bar(x=chart_days, y=chart_values))
    fig.update_layout(title="Visits This Week")
    return fig

# --- Main dashboard ---
with ui.page("/"):
    ui.label("Admin Dashboard - AI Clinic App").classes("text-3xl mb-4")

    # ---- Row of Summary Cards ----
    with ui.row().classes("w-full justify-between"):

        ui.card().classes("p-4 w-1/5 text-lg bg-blue-100")
        ui.label(f"Total Patients: {stats['total_patients']}")

        ui.card().classes("p-4 w-1/5 text-lg bg-green-100")
        ui.label(f"Active Doctors: {stats['active_doctors']}")

        ui.card().classes("p-4 w-1/5 text-lg bg-yellow-100")
        ui.label(f"Visits Today: {stats['visits_today']}")

        ui.card().classes("p-4 w-1/5 text-lg bg-red-100")
        ui.label(f"API Calls Used: {stats['api_calls_used']}")

    ui.separator()

    # ---- Patient List ----
    ui.label("Patient List").classes("text-xl mt-4")
    ui.table(
        columns=[
            {"name": "id", "label": "ID", "field": "id"},
            {"name": "name", "label": "Name", "field": "name"},
            {"name": "age", "label": "Age", "field": "age"},
            {"name": "gender", "label": "Gender", "field": "gender"},
        ],
        rows=patients,
    )

    ui.separator()

    # ---- Doctor List ----
    ui.label("Doctor List").classes("text-xl mt-4")
    ui.table(
        columns=[
            {"name": "id", "label": "ID", "field": "id"},
            {"name": "name", "label": "Name", "field": "name"},
            {"name": "specialty", "label": "Specialty", "field": "specialty"},
        ],
        rows=doctors,
    )

    ui.separator()

    # ---- Visit Chart ----
    ui.label("Weekly Visit Statistics").classes("text-xl mt-4")
    ui.plotly(make_visit_chart())

ui.run()
```

---

# ‚ú® Explanation in simple words

Let‚Äôs go slowly and understand what each part does.

---

## 1Ô∏è‚É£ Importing tools

```python
from nicegui import ui
import plotly.graph_objects as go
```

* `ui` ‚Üí builds the web page
* `plotly` ‚Üí draws a small bar chart

---

## 2Ô∏è‚É£ Creating simple data

We create fake data just to show how the dashboard works.

* `stats` ‚Üí top summary numbers
* `patients` ‚Üí list of patients
* `doctors` ‚Üí list of doctors
* `chart_days`, `chart_values` ‚Üí for a simple bar chart

In a real AI Clinic app, these will come from:

* MySQL
* PostgreSQL
* FastAPI backend
* LangChain agents

But for learning, we keep it simple.

---

## 3Ô∏è‚É£ Create a chart function

```python
def make_visit_chart():
```

This prepares the weekly visits graph.

---

## 4Ô∏è‚É£ Build the dashboard page

```python
with ui.page("/"):
```

Everything inside this block is shown on the admin page.

---

## 5Ô∏è‚É£ Add a heading

```python
ui.label("Admin Dashboard - AI Clinic App")
```

Just a simple title.

---

## 6Ô∏è‚É£ Add summary cards

A row of cards showing:

* Total patients
* Active doctors
* Visits today
* API usage

Cards are placed side-by-side using:

```python
with ui.row():
```

Each card has a background color to make it easy to see.

---

## 7Ô∏è‚É£ Add a table of patients

This shows the list of registered patients.
Simple and clean.

---

## 8Ô∏è‚É£ Add a table of doctors

Shows their names and specialties.

---

## 9Ô∏è‚É£ Add a chart

```python
ui.plotly(make_visit_chart())
```

This displays the weekly visit bar chart.

---

## üîü Run the app

```python
ui.run()
```

---

# üöÄ How to run and test

1. Save file as:
   **lesson29_admin_dashboard.py**

2. Open terminal and run:

```bash
python lesson29_admin_dashboard.py
```

3. In your browser open:

```
http://localhost:8080
```

You will now see your full admin dashboard!

---

# üí° Tips & Best Practices

### ‚úî Tip 1 ‚Äî Replace dummy data with real data

Later you will connect this to your backend:

* Patients ‚Üí database table
* Doctors ‚Üí database table
* Visits ‚Üí table + query
* Stats ‚Üí counts like `SELECT COUNT(*)`

This will make your dashboard truly live.

---

### ‚úî Tip 2 ‚Äî Add routing

Let admin click a patient and open:

* Patient details
* Visit history
* Prescription history

NiceGUI supports `ui.page('/details')` for this.

---

### ‚úî Tip 3 ‚Äî Add authentication

Admin pages should be protected with:

* Login
* Roles
* API keys

You can build this in future lessons.

---
