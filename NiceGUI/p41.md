# **Lesson 41: Building Reusable Components in NiceGUI**

*(chat bubble, form section, card)*

### **What you will learn**

In this lesson, you will learn how to create **small reusable UI pieces** in NiceGUI — things you can use again and again in different pages.

Think of reusable components like reusable **moulds** in cooking.
Once you create a mould, you can produce many identical shapes easily:

* A **chat bubble** → for messages
* A **form section** → for grouping related fields
* A **card** → a nice box to show information

This makes your code neat, short, and easy to maintain.

---

# **1. What is a reusable component?**

A reusable component is like a **small function** that creates a UI piece for you.

Example thinking:
Instead of writing the same chat bubble code 10 times,
you write one function → `chat_bubble(text, is_user=True)`
and reuse it every time.

---

# **2. Creating a Simple Chat Bubble Component**

### **Code**

```python
from nicegui import ui

def chat_bubble(message: str, is_user: bool):
    color = 'blue' if is_user else 'gray'
    align = 'items-end' if is_user else 'items-start'

    with ui.row().classes(f'{align} w-full'):
        with ui.card().classes(f'p-3 bg-{color}-200 max-w-[60%]'):
            ui.label(message)

with ui.column().classes('p-4 gap-2'):
    chat_bubble("Hello, how can I help you?", is_user=False)
    chat_bubble("I want to check my symptoms.", is_user=True)
    chat_bubble("Sure! Please tell me more.", is_user=False)

ui.run()
```

### **Explanation in simple words**

* `chat_bubble()` → our reusable component
* We choose **blue** for user messages and **gray** for AI messages
* `align` → user messages appear on the right, AI messages on the left
* `ui.card()` → bubble shape
* `max-w-[60%]` → keeps chat bubble width reasonable
* Then we call our bubble 3 times

---

# **3. Creating a Reusable “Form Section”**

A form section groups fields under one small title.
Useful for patient details, contact details, etc.

### **Code**

```python
def form_section(title: str, fields: list):
    with ui.card().classes('p-4 w-full'):
        ui.label(title).classes('text-lg font-bold mb-2')
        for field in fields:
            ui.input(field).classes('w-full')
```

### **Using It**

```python
with ui.column().classes('p-4 gap-4'):
    form_section("Patient Details", ["Name", "Age", "Gender"])
    form_section("Contact Details", ["Phone Number", "Email"])
```

### **Simple explanation**

* `form_section()` takes a **title** and a **list of field names**
* For each field, we automatically create a text input
* You can reuse the same layout anywhere in your app
* Very helpful in large forms

---

# **4. Creating a Reusable Information Card**

A card is good for summarizing a patient, a product, or statistics.

### **Code**

```python
def info_card(title: str, value: str, icon_name: str):
    with ui.card().classes('p-4 w-64 hover:shadow-xl transition-all duration-300'):
        ui.icon(icon_name).classes('text-4xl')
        ui.label(title).classes('text-md text-gray-600')
        ui.label(value).classes('text-2xl font-bold')
```

### **Using It**

```python
with ui.row().classes('p-4 gap-4'):
    info_card("Total Patients", "124", "group")
    info_card("Pending Reports", "18", "description")
    info_card("Today's Visits", "32", "event")
```

### **Simple explanation**

* `info_card()` → small box
* Shows an icon, a title, and a number
* `hover:shadow-xl` → a soft animation when hovered
* Reusable for dashboards

---

# **5. Full Example (Chat + Forms + Cards)**

```python
from nicegui import ui

# 1. Chat bubble
def chat_bubble(message: str, is_user: bool):
    color = 'blue' if is_user else 'gray'
    align = 'items-end' if is_user else 'items-start'

    with ui.row().classes(f'{align} w-full'):
        with ui.card().classes(f'p-3 bg-{color}-200 max-w-[60%]'):
            ui.label(message)

# 2. Form section
def form_section(title: str, fields: list):
    with ui.card().classes('p-4 w-full'):
        ui.label(title).classes('text-lg font-bold mb-2')
        for field in fields:
            ui.input(field).classes('w-full')

# 3. Info card
def info_card(title: str, value: str, icon_name: str):
    with ui.card().classes('p-4 w-64 hover:shadow-xl transition-all duration-300'):
        ui.icon(icon_name).classes('text-4xl')
        ui.label(title).classes('text-md text-gray-600')
        ui.label(value).classes('text-2xl font-bold')


# UI
with ui.column().classes('p-6 gap-6'):

    ui.label("Reusable Components Demo").classes('text-xl font-bold')

    # Chat demo
    chat_bubble("Hello!", is_user=False)
    chat_bubble("I have a headache.", is_user=True)
    chat_bubble("Okay, let me ask you a few questions.", is_user=False)

    # Form section demo
    form_section("Patient Details", ["Name", "Age", "Gender"])

    # Cards demo
    with ui.row().classes('gap-4'):
        info_card("Visits Today", "23", "event")
        info_card("Follow-ups", "5", "refresh")
        info_card("Active Patients", "67", "group")

ui.run()
```

---

# **How to Run This**

1. Save as **lesson41.py**
2. Run:

   ```
   python lesson41.py
   ```
3. Open browser → **[http://localhost:8080](http://localhost:8080)**
4. You will see:

   * chat bubbles
   * a form section
   * dashboard-style cards

---

# **Tips & Best Practices**

### **1) Keep components small**

Small components are easier to understand and reuse.

### **2) Add optional parameters**

You can add things like colors or icons as optional arguments.

---



