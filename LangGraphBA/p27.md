# Chapter 27: Education Tutor

**Q&A + Quiz Generation with Stateful Progress Tracking**

An **Education Tutor** is one of the most practical applications of LangGraph. It combines Q&A, quiz generation, and progress tracking in a **stateful** system, ensuring that a student’s learning journey continues across sessions.

---

## 🔹 Core Idea

* The system answers questions (Q&A).
* It generates quizzes dynamically based on the student’s level.
* It **tracks progress** in a stateful graph (e.g., which questions were answered correctly, which topics need reinforcement).
* Progress persists across sessions (pause/resume).

---

## 🔹 Workflow

1. **Student Input** → Question, request for quiz, or answer submission.
2. **Classifier Node** → Decide: is it a Q&A request, quiz generation, or quiz answer submission?
3. **Tutor Node (LLM)** → Answer questions with explanations.
4. **Quiz Generator Node** → Create MCQs or short-answer quizzes based on student history.
5. **Progress Tracker Node** → Update state (correct/incorrect answers, scores, topic mastery).
6. **Feedback Node** → Provide personalized feedback (e.g., “You need more practice with probability.”).

---

## 🔹 Example Graph

```python
from langgraph.graph import StateGraph, END
from typing import Dict, Any
import random

# State definition
class TutorState(Dict[str, Any]):
    pass

# Nodes
def classifier_node(state: TutorState):
    user_input = state["user_input"].lower()
    if "quiz" in user_input:
        return "quiz"
    elif "answer" in user_input:
        return "answer"
    else:
        return "qa"

def qa_node(state: TutorState):
    state["response"] = f"Answering your question: {state['user_input']}"
    return state

def quiz_generator_node(state: TutorState):
    question = "What is 2 + 2?"
    options = ["3", "4", "5", "6"]
    state["quiz"] = {"q": question, "options": options, "correct": "4"}
    state["response"] = f"Quiz: {question}\nOptions: {options}"
    return state

def quiz_answer_node(state: TutorState):
    answer = state["user_input"].split(":")[-1].strip()
    correct = state["quiz"]["correct"]
    if answer == correct:
        state["score"] = state.get("score", 0) + 1
        state["response"] = "Correct! 🎉"
    else:
        state["response"] = f"Incorrect. Correct answer was {correct}."
    return state

# Build graph
graph = StateGraph(TutorState)

graph.add_node("classifier", classifier_node)
graph.add_node("qa", qa_node)
graph.add_node("quiz", quiz_generator_node)
graph.add_node("answer", quiz_answer_node)

graph.set_entry_point("classifier")

graph.add_conditional_edges(
    "classifier",
    lambda state: classifier_node(state),
    {
        "qa": "qa",
        "quiz": "quiz",
        "answer": "answer"
    }
)

graph.add_edge("qa", END)
graph.add_edge("quiz", END)
graph.add_edge("answer", END)

app = graph.compile()
```

---

## 🔹 Example Run

**Input 1:**
`"Explain photosynthesis."`

* → Goes to `qa_node`
* ✅ Output: `"Answering your question: Explain photosynthesis."`

**Input 2:**
`"Give me a quiz on math."`

* → Goes to `quiz_generator_node`
* ✅ Output: `"Quiz: What is 2 + 2? Options: [3, 4, 5, 6]"`

**Input 3:**
`"Answer: 4"`

* → Goes to `quiz_answer_node`
* ✅ Output: `"Correct! 🎉"`
* ✅ State updated: `score = 1`

---

## 🔹 Advanced Features

* **Adaptive Quiz Generation**: Adjust difficulty based on performance history.
* **Topic Tracking**: Maintain which topics are mastered or weak.
* **Gamification**: Add badges, streaks, or progress charts.
* **Pause/Resume**: Persist student progress in a database (Redis, SQL).

---

## 🔹 Example Use Cases

* **Math Tutor**: Explain concepts, generate practice quizzes.
* **Language Tutor**: Vocabulary Q&A, grammar quizzes, track word mastery.
* **Healthcare Training**: Case-based Q&A with quiz-style reinforcement.

---

✅ With this chapter, you can build a **stateful education tutor** that not only answers questions but also adapts to the learner’s progress, making it suitable for online classrooms, training, and self-paced learning platforms.

---
